---
import { getEntry } from "astro:content";
import { Image } from "astro:assets";

interface Props {
    identifier: string;
}

const { identifier } = Astro.props;
const record = await getEntry("maps", identifier);

const thumbnailImageSrc = `https://bpldcassets.blob.core.windows.net/derivatives/images/${record.data.dcMetadata.exemplary_image_ssi}/image_thumbnail_300.jpg`;
---

<div>
    <div class="result-image">
        <Image
            src={thumbnailImageSrc}
            alt="descriptive text"
            width="200"
            height="150"
        />
    </div>
    <div class="title-tags">
        <h3>{record.data.dcMetadata.title_info_primary_tsi}</h3>
        <div class="text">
            <p>{record.data.dcMetadata.title_info_primary_subtitle_tsi}</p>
            <a class="button-like dark" href={'/maps/' + identifier}>See map</a>
        </div>
    </div>
</div>
